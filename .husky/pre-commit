#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running PHP code quality checks..."
if ! ./vendor/bin/phpcs --standard=PSR2 --colors app/; then
    echo "âŒ PHP CodeSniffer found coding standard violations. Please fix them before committing."
    exit 1
fi

if ! ./vendor/bin/pint --test -v; then
    echo "âŒ Laravel Pint found code style issues. Please run 'composer format' to fix them."
    exit 1
fi

echo "âœ… PHP code quality checks passed!"

echo "\nğŸ” Running JavaScript linting..."
if ! npm run lint -- --color; then
    echo "âŒ ESLint found code style issues. Please fix them before committing."
    exit 1
fi

echo "âœ… JavaScript linting passed!"
echo "\nğŸ‰ All quality checks passed successfully! Committing changes...\n"